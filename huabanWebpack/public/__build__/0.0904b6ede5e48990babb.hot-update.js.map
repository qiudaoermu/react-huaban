{"version":3,"sources":["webpack:///./public/components/masonry.js"],"names":["define","React","require","Masonry","masonryOptions","transitionDuration","left","dataR","callBackData","Gallery","$","ajax","url","async","type","data","index","done","console","log","i","pins","length","push","state","imgData","loadDataFlag","loadIcon","ActionFlag","height","window","this_","a","scroll","e","scrollTop","document","setState","setTimeout","event","val","currentTarget","getAttribute","childElements","map","v","postion","top","mouseShowAction","bind","file","key","show","board","title","user","avatar","username","Component","module","exports","call"],"mappings":";;;;;;;;;;;;;;;;AAAA;AACA,IAAIA,SAAS,KAAb;AACC,aAAW;;AAEZ;;;;AAIA,QAAIC,QAAQ,mBAAAC,CAAQ,EAAR,CAAZ;AACA,QAAIC,UAAU,mBAAAD,CAAQ,EAAR,CAAd;;AAEA,QAAIE,iBAAiB;AACjBC,4BAAoB,CADH;AAEjBC,cAAM;AAFW,KAArB;AAIA,QAAIC,QAAQ,EAAZ;AACA,QAAIC,eAAe,EAAnB;;AAdY,QAeNC,OAfM;AAAA;;AAgBR,2BAAa;AAAA;;AAAA;;AAGTC,cAAEC,IAAF,CAAO;AACHC,qBAAI,mBADD;AAEHC,uBAAM,KAFH;AAGHC,sBAAK,MAHF;AAIHC,sBAAK,EAACC,OAAM,CAAP;AAJF,aAAP,EAKGC,IALH,CAKQ,UAAUF,IAAV,EAAgB;AACpBG,wBAAQC,GAAR,CAAYJ,IAAZ;;AAEJ,qBAAI,IAAIK,IAAE,CAAV,EAAYA,IAAEL,KAAKM,IAAL,CAAUC,MAAxB,EAA+BF,GAA/B,EAAoC;AAC/Bb,0BAAMgB,IAAN,CAAWR,KAAKM,IAAL,CAAUD,CAAV,CAAX;AACH;;AAEE;AACH,aAbD;AAcD;AACC,kBAAKI,KAAL,GAAa;AACTT,sBAAKR,KADI;AAETkB,yBAAQ,CAFC;AAGTC,8BAAa,KAHJ;AAITC,0BAAS,WAJA;;AAMTC,4BAAW;;AANF,aAAb;;AAlBS;AA8BZ;;AA9CO;AAAA;AAAA,gDA+CW;AACf,oBAAIC,SAASnB,EAAEoB,MAAF,EAAUD,MAAV,EAAb;AACAX,wBAAQC,GAAR,CAAYU,MAAZ;AACA,oBAAIE,QAAQ,IAAZ;AACA,oBAAIC,IAAE,CAAN;;AAEAtB,kBAAEoB,MAAF,EAAUG,MAAV,CAAiB,UAAUC,CAAV,EAAa;AAC1B,wBAAKxB,EAAEoB,MAAF,EAAUK,SAAV,KAAsBzB,EAAEoB,MAAF,EAAUD,MAAV,EAAvB,GAA2C,IAA5C,IAAmDnB,EAAE0B,QAAF,EAAYP,MAAZ,EAAtD,EAA2E;;AAGnE,4BAAGE,MAAMP,KAAN,CAAYE,YAAZ,IAA0B,KAA7B,EAAmC;AAC/BK,kCAAMM,QAAN,CAAe,EAACX,cAAa,IAAd,EAAf;AACAK,kCAAMM,QAAN,CAAe,EAACV,UAAS,SAAV,EAAf;AACAW,uCAAW,YAAY;AACnBN;AACAtB,kCAAEC,IAAF,CAAO;AACHC,yCAAI,mBADD;AAEHC,2CAAM,KAFH;AAGHE,0CAAK,EAACC,OAAMgB,CAAP,EAHF;AAIHlB,0CAAK;AAJF,iCAAP,EAKGG,IALH,CAKQ,UAAUF,IAAV,EAAgB;AACpBG,4CAAQC,GAAR,CAAYJ,IAAZ;;AAEA,yCAAI,IAAIK,IAAE,CAAV,EAAYA,IAAEL,KAAKM,IAAL,CAAUC,MAAxB,EAA+BF,GAA/B,EAAoC;AAChCb,8CAAMgB,IAAN,CAAWR,KAAKM,IAAL,CAAUD,CAAV,CAAX;AACH;;AAED;AACH,iCAbD;;AAgBA,oCAAGY,KAAG,EAAN,EAAS;AACLA,wCAAE,CAAF;AACH;;AAEDD,sCAAMM,QAAN,CAAe,EAACtB,MAAKR,KAAN,EAAf;AACAwB,sCAAMM,QAAN,CAAe,EAACX,cAAa,KAAd,EAAf;AACAK,sCAAMM,QAAN,CAAe,EAACV,UAAS,WAAV,EAAf;AACH,6BAzBD,EAyBE,IAzBF;AA0BH;AACJ;AAGR,iBArCD;AAsCH;AA3FO;AAAA;AAAA,4CA4FQY,KA5FR,EA4Fc;AACd,oBAAIC,MAAMD,MAAME,aAAN,CAAoBC,YAApB,CAAiC,YAAjC,CAAV;AACA,qBAAKL,QAAL,CAAc,EAACT,YAAWY,GAAZ,EAAd;AAEP;AAhGO;AAAA;AAAA,qCAiGA;AACJ,oBAAIT,QAAQ,IAAZ;AACA,oBAAIY,gBAAgB,KAAKnB,KAAL,CAAWT,IAAX,CAAgB6B,GAAhB,CAAoB,UAASC,CAAT,EAAW7B,KAAX,EAAiB;AACrD,wBAAGA,SAAO,CAAV,EAAY;AACT,+BACI;AAAA;AAAA,8BAAI,WAAU,qBAAd,EAAoC,KAAKA,KAAzC;AACI,yDAAM,QAAQ,GAAd,GADJ;AAEI;AAAA;AAAA,kCAAK,IAAG,WAAR,EAAoB,WAAU,SAA9B,EAAwC,OAAO,EAAC8B,SAAQ,UAAT,EAAoBxC,MAAK,CAAzB,EAA2ByC,KAAI,CAA/B,EAA/C;AACI;AAAA;AAAA,sCAAK,IAAG,SAAR;AACI;AAAA;AAAA,0CAAK,WAAU,eAAf;AACI;AAAA;AAAA,8CAAG,MAAK,cAAR,EAAuB,OAAM,YAA7B,EAA0C,WAAU,cAApD;AACI,yEAAK,OAAM,IAAX,EAAgB,QAAO,IAAvB,EAA4B,KAAI,mFAAhC;AACK,8EAA2B,GADhC;AADJ,yCADJ;AAKI;AAAA;AAAA,8CAAG,MAAK,cAAR,EAAuB,WAAU,UAAjC;AAAA;AAAA,yCALJ;AAMI,mEAAG,MAAK,YAAR,EAAqB,OAAM,0BAA3B,EAAkC,WAAU,UAA5C;AANJ,qCADJ;AASI;AAAA;AAAA,0CAAK,WAAU,eAAf;AACI;AAAA;AAAA,8CAAG,MAAK,mBAAR;AACI;AAAA;AAAA;AAAA;AAAA,6CADJ;AAAA;AAAA,yCADJ;AAGI;AAAA;AAAA,8CAAG,MAAK,cAAR,EAAuB,WAAU,QAAjC;AACI;AAAA;AAAA;AAAA;AAAA,6CADJ;AAAA;AAAA,yCAHJ;AAMI;AAAA;AAAA,8CAAG,MAAK,wBAAR;AACI;AAAA;AAAA;AAAA;AAAA,6CADJ;AAAA;AAAA;AANJ,qCATJ;AAkBI;AAAA;AAAA,0CAAK,WAAU,oBAAf;AACI;AAAA;AAAA,8CAAK,WAAU,OAAf;AACI;AAAA;AAAA,kDAAG,MAAK,iBAAR,EAA0B,WAAU,UAApC;AACI;AAAA;AAAA;AAAQ,mFAAR;AAAA;AAAA,iDADJ;AAGI;AAHJ;AADJ;AADJ;AAlBJ;AADJ;AAFJ,yBADJ;AAoCF,qBArCD,MAqCK;AACD,+BAEI;AAAA;AAAA,8BAAI,WAAU,qBAAd,EAAoC,KAAK/B,KAAzC,EAAgD,aAAae,MAAMiB,eAAN,CAAsBC,IAAtB,CAA2BlB,KAA3B,CAA7D,EAAgG,cAAYf,KAA5G;AAEI,yDAAK,KAAK,4BAA0B6B,EAAEK,IAAF,CAAOC,GAA3C,GAFJ;AAIKpB,kCAAMP,KAAN,CAAYI,UAAZ,IAAwBZ,KAAxB,GAA+B;AAAA;AAAA,kCAAK,WAAU,SAAf;AAC5B;AAAA;AAAA,sCAAK,WAAU,OAAf;AACI;AAAA;AAAA,0CAAG,WAAQ,SAAX,EAAqB,OAAM,cAA3B,EAAgC,MAAK,GAArC,EAAyC,WAAU,8BAAnD;AACI,mEAAG,WAAU,OAAb,GADJ;AAEI;AAAA;AAAA,8CAAM,WAAU,MAAhB;AAAA;AAAA;AAFJ;AADJ,iCAD4B;AAO5B;AAAA;AAAA,sCAAK,WAAU,MAAf;AACI;AAAA;AAAA,0CAAI,MAAK,GAAT,EAAa,WAAU,sBAAvB,EAA8C,SAAS,KAAKoC,IAA5D;AACI;AAAA;AAAA,8CAAM,WAAU,MAAhB;AAAA;AAAA;AADJ;AADJ;AAP4B,6BAA/B,GAYM,EAhBX;AAiBI,0DAAM,WAAU,MAAhB,GAjBJ;AAkBI;AAAA;AAAA,kCAAG,WAAU,aAAb;AAA4BP,kCAAEQ,KAAF,CAAQC;AAApC,6BAlBJ;AAmBI;AAAA;AAAA,kCAAK,WAAU,4BAAf;AACI;AAAA;AAAA,sCAAK,MAAK,cAAV,EAAyB,OAAM,mBAA/B,EAAyC,KAAI,UAA7C;AACI,iEAAK,KAAK,4BAA0BT,EAAEU,IAAF,CAAOC,MAAP,CAAcL,GAAlD,EAAuD,8BAA2B,GAAlF,EAAsF,WAAU,KAAhG;AADJ,iCADJ;AAII;AAAA;AAAA,sCAAK,WAAU,MAAf;AACI;AAAA;AAAA,0CAAK,WAAU,OAAf;AACI;AAAA;AAAA,8CAAK,WAAU,MAAf;AACI;AAAA;AAAA,kDAAG,MAAK,cAAR,EAAuB,KAAI,EAA3B,EAA8B,WAAU,UAAxC;AAAoDN,kDAAEU,IAAF,CAAOE;AAA3D,6CADJ;AAAA;AAAA,yCADJ;AAII;AAAA;AAAA,8CAAK,WAAU,MAAf;AACI;AAAA;AAAA,kDAAG,MAAK,mBAAR,EAA4B,KAAI,EAAhC,EAAmC,WAAU,GAA7C;AAAkDZ,kDAAEQ,KAAF,CAAQC;AAA1D;AADJ,yCAJJ;AAOI,mEAAG,OAAM,cAAT,EAAc,WAAU,aAAxB;AAPJ;AADJ;AAJJ;AAnBJ,yBAFJ;AAwCH;AAEJ,iBAjFmB,CAApB;;AAmFA,uBACI;AAAA;AAAA;AACI;AAAC,+BAAD;AAAA;AACI,uCAAW,kBADf,CACmC;AADnC,8BAEI,aAAa,IAFjB,CAEuB;AAFvB,8BAGI,SAASlD,cAHb,CAG6B;AAH7B,8BAII,qBAAqB,KAJzB,CAIgC;AAJhC,8BAKI,uBAAuB,KAL3B,CAKkC;AALlC;AAOKuC;AAPL,qBADJ;AAUI;AAAA;AAAA,0BAAK,WAAW,KAAKnB,KAAL,CAAWG,QAA3B;AACI,sDAAM,WAAU,aAAhB,GADJ;AAEI;AAAA;AAAA,8BAAM,WAAU,aAAhB;AAAA;AAAA;AAFJ;AAVJ,iBADJ;AAkBH;AAxMO;;AAAA;AAAA,MAeU1B,MAAMyD,SAfhB;;AA4MZC,WAAOC,OAAP,GAAiBnD,OAAjB;AACC,CA7MA,EA6MCoD,IA7MD,CA6MM/B,MA7MN,CAAD,C","file":"0.0904b6ede5e48990babb.hot-update.js","sourcesContent":["/*** IMPORTS FROM imports-loader ***/\nvar define = false;\n(function() {\n\n/**\n * Created by ANN on 2017/8/20.\n */\n\nvar React = require('react');\nvar Masonry = require('react-masonry-component');\n\nvar masonryOptions = {\n    transitionDuration: 1,\n    left: 0\n};\nvar dataR = []\nvar callBackData = \"\"\nclass Gallery extends React.Component{\n    constructor(){\n        super()\n\n        $.ajax({\n            url:\"/api/user/getDate\",\n            async:false,\n            type:\"POST\",\n            data:{index:0}\n        }).done(function (data) {\n            console.log(data)\n\n        for(var i=0;i<data.pins.length;i++) {\n             dataR.push(data.pins[i])\n         }\n\n            //dataR.push(data[1].data)\n        })\n       // console.log(this.props.validationState)\n        this.state = {\n            data:dataR,\n            imgData:0,\n            loadDataFlag:false,\n            loadIcon:\"unloading\",\n\n            ActionFlag:false\n\n        }\n\n\n\n    }\n    componentDidMount(){\n        var height = $(window).height()\n        console.log(height)\n        var this_ = this\n        var a=0;\n\n        $(window).scroll(function (e) {\n            if((($(window).scrollTop()+$(window).height())+2250)>=$(document).height()){\n\n\n                    if(this_.state.loadDataFlag==false){\n                        this_.setState({loadDataFlag:true})\n                        this_.setState({loadIcon:\"loading\"})\n                        setTimeout(function () {\n                            a++\n                            $.ajax({\n                                url:\"/api/user/getDate\",\n                                async:false,\n                                data:{index:a},\n                                type:\"POST\"\n                            }).done(function (data) {\n                                console.log(data)\n\n                                for(var i=0;i<data.pins.length;i++) {\n                                    dataR.push(data.pins[i])\n                                }\n\n                                //dataR.push(data[1].data)\n                            })\n\n\n                            if(a>=17){\n                                a=0\n                            }\n\n                            this_.setState({data:dataR})\n                            this_.setState({loadDataFlag:false})\n                            this_.setState({loadIcon:\"unloading\"})\n                        },2000)\n                    }\n                }\n\n\n        })\n    }\n    mouseShowAction(event){\n            var val = event.currentTarget.getAttribute(\"data-index\");\n            this.setState({ActionFlag:val})\n\n    }\n    render(){\n        var this_ = this\n        var childElements = this.state.data.map(function(v,index){\n            if(index==0){\n               return(\n                   <li className=\"image-element-class\" key={index} >\n                       <img  height={187}/>\n                       <div id=\"user_info\" className=\"pin wfc\" style={{postion:\"absolute\",left:0,top:0}}>\n                           <div id=\"Profile\">\n                               <div className=\"profile-basic\">\n                                   <a href=\"/q42p11pfnu/\" title=\"qiudaoyimu\" className=\"img x loaded\">\n                                       <img width=\"54\" height=\"54\" src=\"//hbimg.b0.upaiyun.com/79c19673f6d42b0411bc2e75fc472356e8b521ba1e26-EcdWTk_sq75sf\"\n                                            data-baiduimageplus-ignore=\"1\"/>\n                                   </a>\n                                   <a href=\"/q42p11pfnu/\" className=\"userlink\">qiudaoyimu</a>\n                                   <a href=\"/settings/\" title=\"帐号设置\" className=\"settings\"></a>\n                               </div>\n                               <div className=\"profile-stats\">\n                                   <a href=\"/q42p11pfnu/pins/\">\n                                       <strong>16</strong>采集</a>\n                                   <a href=\"/q42p11pfnu/\" className=\"middle\">\n                                       <strong>2</strong>\n                                       画板</a>\n                                   <a href=\"/q42p11pfnu/followers/\">\n                                       <strong>1</strong>粉丝</a>\n                               </div>\n                               <div className=\"profile-acts convo\">\n                                   <div className=\"links\">\n                                       <a href=\"/friends/weibo/\" className=\"btn wbtn\">\n                                           <strong><em></em>\n                                               查找在花瓣的好友</strong>\n                                           <span></span>\n                                       </a>\n                                   </div>\n                               </div>\n                           </div>\n                       </div>\n\n                   </li>\n               )\n            }else{\n                return (\n\n                    <li className=\"image-element-class\" key={index} onMouseOver={this_.mouseShowAction.bind(this_)} data-index={index}>\n\n                        <img src={\"//hbimg.b0.upaiyun.com/\"+v.file.key}/>\n\n                        {this_.state.ActionFlag==index? <div className=\"actions\">\n                            <div className=\"right\">\n                                <a data-id=\"1426492\" title=\"喜欢\" href=\"#\" className=\"like btn-with-icon btn btn14\">\n                                    <i className=\"heart\"></i>\n                                    <span className=\"text\"> 17</span>\n                                </a>\n                            </div>\n                            <div className=\"left\">\n                                <a  href=\"#\" className=\"repin btn btn14 rbtn\" onClick={this.show}>\n                                    <span className=\"text\"> 采集</span>\n                                </a>\n                            </div>\n                        </div>:\"\"}\n                        <span className=\"stop\"></span>\n                        <p className=\"description\">{v.board.title}</p>\n                        <div className=\"convo attribution clearfix\">\n                            <div href=\"/rpbewciu3m/\" title=\"卷卷snail\" rel=\"nofollow\" >\n                                <img src={\"//hbimg.b0.upaiyun.com/\"+v.user.avatar.key} data-baiduimageplus-ignore=\"1\" className=\"avt\"/>\n                            </div>\n                            <div className=\"text\">\n                                <div className=\"inner\">\n                                    <div className=\"line\">\n                                        <a href=\"/rpbewciu3m/\" rel=\"\" className=\"author x\">{v.user.username}</a>&nbsp;采集到\n                                    </div>\n                                    <div className=\"line\">\n                                        <a href=\"/boards/38688457/\" rel=\"\" className=\"x\">{v.board.title}</a>\n                                    </div>\n                                    <a title=\"评论\" className=\"replyButton\"></a>\n                                </div>\n                            </div>\n                        </div>\n\n                    </li>\n                );\n            }\n\n        });\n\n        return (\n            <div>\n                <Masonry\n                    className={'my-gallery-class'} // default ''\n                    elementType={'ul'} // default 'div'\n                    options={masonryOptions} // default {}\n                    disableImagesLoaded={false} // default false\n                    updateOnEachImageLoad={false} // default false and works only if disableImagesLoaded is false\n                >\n                    {childElements}\n                </Masonry>\n                <div className={this.state.loadIcon}>\n                    <span className=\"loadingIcon\"></span>\n                    <span className=\"loadingText\"> loading....</span>\n                </div>\n            </div>\n\n        );\n    }\n}\n\n\nmodule.exports = Gallery;\n}.call(window));\n\n\n// WEBPACK FOOTER //\n// ./public/components/masonry.js"],"sourceRoot":""}