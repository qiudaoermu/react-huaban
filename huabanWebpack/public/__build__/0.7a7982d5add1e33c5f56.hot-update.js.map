{"version":3,"sources":["webpack:///./public/components/masonry.js"],"names":["define","React","require","Masonry","masonryOptions","transitionDuration","left","dataR","Gallery","$","ajax","url","async","done","data","console","log","i","length","push","state","imgData","loadDataFlag","height","window","this_","scroll","e","scrollTop","document","setState","childElements","map","v","index","file","key","Component","module","exports","call"],"mappings":"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","file":"0.7a7982d5add1e33c5f56.hot-update.js","sourcesContent":["/*** IMPORTS FROM imports-loader ***/\nvar define = false;\n(function() {\n\n/**\n * Created by ANN on 2017/8/20.\n */\n\nvar React = require('react');\nvar Masonry = require('react-masonry-component');\n\nvar masonryOptions = {\n    transitionDuration: 1,\n    left: 0\n};\nvar dataR = []\nclass Gallery extends React.Component{\n    constructor(){\n        super()\n\n        $.ajax({\n            url:\"/api/user/getDate\",\n            async:false\n        }).done(function (data) {\n            console.log(data)\n        for(var i=0;i<data[0].data.length;i++) {\n             dataR.push(data[0].data[i])\n         }\n\n            //dataR.push(data[1].data)\n        })\n\n        this.state = {\n            data:dataR,\n            imgData:0,\n            loadDataFlag:false\n\n        }\n\n    }\n    componentDidMount(){\n        var height = $(window).height()\n        console.log(height)\n        var this_ = this\n\n        $(window).scroll(function (e) {\n            if((($(window).scrollTop()+$(window).height())+2250)>=$(document).height()){\n\n                if(this_.state.loadDataFlag==false){\n                    this_.setState({loadDataFlag:true})\n                    $.ajax({\n                        url:\"/api/user/getDate\",\n                        async:false\n                    }).done(function (data) {\n\n\n                        for(var i=0;i<data[1].data.length;i++) {\n                            dataR.push(data[1].data[i])\n                        }\n                    });\n\n\n                    this_.setState({data:dataR})\n                    this_.setState({loadDataFlag:false})\n\n                }\n\n\n            }\n\n        })\n    }\n    render(){\n        var childElements = this.state.data.map(function(v,index){\n            if(index==0){\n               return(\n                   <li className=\"image-element-class\" key={index}>\n                       <img src={\"//hbimg.b0.upaiyun.com/\"+v.file.key}/>\n                   </li>\n               )\n            }else{\n                return (\n\n                    <li className=\"image-element-class\" key={index}>\n\n                        <img src={\"//hbimg.b0.upaiyun.com/\"+v.file.key}/>\n                    </li>\n                );\n            }\n\n        });\n\n        return (\n            <Masonry\n                className={'my-gallery-class'} // default ''\n                elementType={'ul'} // default 'div'\n                options={masonryOptions} // default {}\n                disableImagesLoaded={false} // default false\n                updateOnEachImageLoad={false} // default false and works only if disableImagesLoaded is false\n            >\n\n                {childElements}\n            </Masonry>\n        );\n    }\n}\n\n\nmodule.exports = Gallery;\n}.call(window));\n\n\n// WEBPACK FOOTER //\n// ./public/components/masonry.js"],"sourceRoot":""}